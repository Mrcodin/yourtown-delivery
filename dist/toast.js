class t{constructor(){this.container=null,this.toasts=[],document.body?this.init():"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.init()):this.init()}init(){document.querySelector(".toast-container")?(this.container=document.querySelector(".toast-container"),this.container.style.zIndex="999999"):(this.container=document.createElement("div"),this.container.className="toast-container",this.container.setAttribute("role","region"),this.container.setAttribute("aria-label","Notifications"),this.container.style.position="fixed",this.container.style.top="160px",this.container.style.right="20px",this.container.style.zIndex="999999",document.body.appendChild(this.container))}show(t){this.container||this.init();const{message:e,title:s="",type:i="info",duration:n=5e3,dismissible:o=!0,onClose:a=null}="string"==typeof t?{message:t}:t,r=document.createElement("div");r.className=`toast ${i}`,r.setAttribute("role","alert"),r.setAttribute("aria-live","error"===i?"assertive":"polite");const c={success:"✓",error:"✕",warning:"⚠",info:"ℹ"};if(r.innerHTML=`\n            <div class="toast-icon">${c[i]||c.info}</div>\n            <div class="toast-content">\n                ${s?`<div class="toast-title">${this.escapeHtml(s)}</div>`:""}\n                <div class="toast-message">${this.escapeHtml(e)}</div>\n            </div>\n            ${o?'<button class="toast-close" aria-label="Close notification">×</button>':""}\n            ${n>0?'<div class="toast-progress"></div>':""}\n        `,this.container.appendChild(r),setTimeout(()=>r.classList.add("show"),10),n>0){const t=r.querySelector(".toast-progress");t&&(t.style.width="100%",setTimeout(()=>{t.style.width="0%",t.style.transition=`width ${n}ms linear`},10))}if(o){const t=r.querySelector(".toast-close");t&&t.addEventListener("click",()=>{this.close(r,a)})}return n>0&&setTimeout(()=>{this.close(r,a)},n),this.toasts.push(r),r}close(t,e){t&&t.parentElement&&(t.classList.remove("show"),t.classList.add("hide"),setTimeout(()=>{t.parentElement&&t.parentElement.removeChild(t),this.toasts=this.toasts.filter(e=>e!==t),e&&e()},300))}success(t,e=""){return this.show({message:t,title:e||"Success",type:"success"})}error(t,e=""){return this.show({message:t,title:e||"Error",type:"error",duration:7e3})}warning(t,e=""){return this.show({message:t,title:e||"Warning",type:"warning",duration:6e3})}info(t,e=""){return this.show({message:t,title:e||"Info",type:"info"})}closeAll(){this.toasts.forEach(t=>this.close(t))}escapeHtml(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}}const e=new t;"undefined"!=typeof window&&(window.toast=e);