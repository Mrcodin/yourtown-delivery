const r={config:{enabled:!0,logToConsole:!0,maxErrors:100,endpoint:null},errors:[],init(r={}){this.config={...this.config,...r},window.addEventListener("error",r=>{this.captureError(r.error||new Error(r.message),{type:"uncaught",filename:r.filename,lineno:r.lineno,colno:r.colno})}),window.addEventListener("unhandledrejection",r=>{this.captureError(r.reason||new Error("Unhandled Promise Rejection"),{type:"promise_rejection"})})},captureError(r,e={}){if(!this.config.enabled)return;const t={timestamp:(new Date).toISOString(),message:r.message||String(r),stack:r.stack||"",context:e,url:window.location.href,userAgent:navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight}};this.errors.push(t),this.errors.length>this.config.maxErrors&&this.errors.shift(),this.config.logToConsole,this.config.endpoint&&this.sendError(t),this.saveToStorage()},async sendError(r){try{await fetch(this.config.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}catch(r){}},saveToStorage(){try{localStorage.setItem("error_log",JSON.stringify(this.errors.slice(-20)))}catch(r){}},loadFromStorage(){try{const r=localStorage.getItem("error_log");r&&(this.errors=JSON.parse(r))}catch(r){}},getErrors(){return this.errors},getRecentErrors(r=10){return this.errors.slice(-r)},clearErrors(){this.errors=[],localStorage.removeItem("error_log")},getStats(){const r=Date.now(),e=this.errors.filter(e=>r-new Date(e.timestamp).getTime()<864e5),t={};return this.errors.forEach(r=>{const e=r.context.context||"unknown";t[e]=(t[e]||0)+1}),{total:this.errors.length,last24h:e.length,byContext:t,oldestError:this.errors[0]?.timestamp,newestError:this.errors[this.errors.length-1]?.timestamp}},showDashboard(){const r=this.getStats();Object.entries(r.byContext).forEach(([r,e])=>{}),this.getRecentErrors(5).forEach((r,e)=>{})}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{r.init({logToConsole:!0,endpoint:null}),r.loadFromStorage()}):(r.init({logToConsole:!0,endpoint:null}),r.loadFromStorage()),window.ErrorTracker=r,"undefined"!=typeof module&&module.exports&&(module.exports=r);