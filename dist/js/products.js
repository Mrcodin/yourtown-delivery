let e=[],r=[];async function o(){const o=document.getElementById("grocery-grid"),t=document.getElementById("empty-state");o&&loading.showSkeleton(o,"product",6);try{const n=await api.getProducts({showLoading:!1});if(n.success&&n.products)return e=n.products.map(e=>({id:e._id,name:e.name,price:e.price,category:e.category,emoji:e.emoji||"ðŸ“¦",imageUrl:e.imageUrl||null,isTaxable:e.isTaxable||!1})),r=e.slice(0,6).map(e=>e.id),o&&(0===e.length?(o.innerHTML="",t&&t.removeAttribute("style")):(t&&(t.style.display="none"),renderGroceryGrid())),{success:!0,count:e.length};throw new Error("Failed to load products from server")}catch(e){return"undefined"!=typeof ErrorTracker&&ErrorTracker.captureError(e,{context:"Product Loading",action:"loadProducts"}),o&&(o.innerHTML="",message.showError(message.getUserFriendlyError(e),"Connection Error",o)),{success:!1,error:e.message}}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),"undefined"!=typeof module&&module.exports&&(module.exports={groceries:e,USUAL_ORDER_IDS:r,loadProducts:o});