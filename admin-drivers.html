<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drivers - Admin Dashboard</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="loading.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="admin-body">
    <!-- SIDEBAR -->
    <aside class="admin-sidebar" id="admin-sidebar">
        <div class="sidebar-header">
            <h1 class="sidebar-logo">üõí Hometown</h1>
            <span class="sidebar-badge">Admin</span>
        </div>
        
        <nav class="sidebar-nav">
            <a href="admin.html" class="sidebar-link">
                <span class="sidebar-icon">üìä</span>
                Dashboard
            </a>
            <a href="admin-orders.html" class="sidebar-link">
                <span class="sidebar-icon">üì¶</span>
                Orders
            </a>
            <a href="admin-products.html" class="sidebar-link">
                <span class="sidebar-icon">üõçÔ∏è</span>
                Products
            </a>
            <a href="admin-drivers.html" class="sidebar-link active">
                <span class="sidebar-icon">üöó</span>
                Drivers
            </a>
            <a href="admin-customers.html" class="sidebar-link">
                <span class="sidebar-icon">üë•</span>
                Customers
            </a>
            <a href="admin-reports.html" class="sidebar-link">
                <span class="sidebar-icon">üìà</span>
                Reports
            </a>
            <a href="admin-settings.html" class="sidebar-link">
                <span class="sidebar-icon">‚öôÔ∏è</span>
                Settings
            </a>
        </nav>
        
        <div class="sidebar-footer">
            <a href="index.html" class="sidebar-link">
                <span class="sidebar-icon">üåê</span>
                View Website
            </a>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="admin-main">
        <header class="admin-topbar">
            <button class="mobile-sidebar-toggle" onclick="toggleAdminSidebar()">‚ò∞</button>
            <h2 class="topbar-title">Driver Management</h2>
            <div class="topbar-right">
                <button class="btn btn-primary" onclick="openAddDriverModal()">
                    ‚ûï Add Driver
                </button>
            </div>
        </header>

        <div class="admin-content">
            <!-- DRIVER STATS -->
            <div class="stats-row">
                <div class="stat-card stat-primary">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-info">
                        <div class="stat-value" id="stat-total-drivers">0</div>
                        <div class="stat-label">Total Drivers</div>
                    </div>
                </div>
                
                <div class="stat-card stat-success">
                    <div class="stat-icon">üü¢</div>
                    <div class="stat-info">
                        <div class="stat-value" id="stat-online-drivers">0</div>
                        <div class="stat-label">Online Now</div>
                    </div>
                </div>
                
                <div class="stat-card stat-warning">
                    <div class="stat-icon">üöó</div>
                    <div class="stat-info">
                        <div class="stat-value" id="stat-busy-drivers">0</div>
                        <div class="stat-label">On Delivery</div>
                    </div>
                </div>
                
                <div class="stat-card stat-info">
                    <div class="stat-icon">üì¶</div>
                    <div class="stat-info">
                        <div class="stat-value" id="stat-today-deliveries">0</div>
                        <div class="stat-label">Deliveries Today</div>
                    </div>
                </div>
            </div>

            <!-- DRIVERS GRID -->
            <div class="drivers-grid" id="drivers-grid">
                <!-- Populated by JavaScript -->
            </div>
        </div>
    </main>

    <!-- ADD/EDIT DRIVER MODAL -->
    <div class="modal-overlay" id="driver-modal">
        <div class="modal">
            <div class="modal-header">
                <h2 id="driver-modal-title">Add New Driver</h2>
                <button class="modal-close" onclick="closeModal('driver-modal')">√ó</button>
            </div>
            <div class="modal-body">
                <form id="driver-form">
                    <input type="hidden" id="driver-id">
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">First Name *</label>
                            <input type="text" class="form-input" id="driver-first-name" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Last Name *</label>
                            <input type="text" class="form-input" id="driver-last-name" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Phone *</label>
                            <input type="tel" class="form-input" id="driver-phone" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" id="driver-email">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Vehicle Type</label>
                            <select class="form-input" id="driver-vehicle-type">
                                <option value="car">Car</option>
                                <option value="suv">SUV</option>
                                <option value="truck">Truck</option>
                                <option value="van">Van</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Vehicle Description</label>
                            <input type="text" class="form-input" id="driver-vehicle" placeholder="e.g., Blue Honda Civic">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">License Plate</label>
                        <input type="text" class="form-input" id="driver-license">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Status</label>
                            <select class="form-input" id="driver-status">
                                <option value="offline">Offline</option>
                                <option value="online">Online</option>
                                <option value="busy">Busy</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Pay Rate (per delivery)</label>
                            <input type="number" class="form-input" id="driver-rate" value="4.00" step="0.50" min="0">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Notes</label>
                        <textarea class="form-input form-textarea" id="driver-notes" placeholder="Background check date, availability, etc."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="closeModal('driver-modal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveDriver()">Save Driver</button>
            </div>
        </div>
    </div>

    <!-- DRIVER DETAIL MODAL -->
    <div class="modal-overlay" id="driver-detail-modal">
        <div class="modal modal-large">
            <div class="modal-header">
                <h2>Driver Details</h2>
                <button class="modal-close" onclick="closeModal('driver-detail-modal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="driver-profile">
                    <div class="driver-avatar-large" id="driver-detail-avatar">MJ</div>
                    <h3 id="driver-detail-name">Mary Johnson</h3>
                    <p class="driver-status-badge online" id="driver-detail-status-badge">Online</p>
                </div>
                
                <div class="driver-stats-grid">
                    <div class="driver-stat-card">
                        <div class="driver-stat-value" id="driver-total-deliveries">0</div>
                        <div class="driver-stat-label">Total Deliveries</div>
                    </div>
                    <div class="driver-stat-card">
                        <div class="driver-stat-value" id="driver-rating">5.0</div>
                        <div class="driver-stat-label">Rating</div>
                    </div>
                    <div class="driver-stat-card">
                        <div class="driver-stat-value" id="driver-earnings">$0</div>
                        <div class="driver-stat-label">This Month</div>
                    </div>
                </div>
                
                <div class="detail-section">
                    <h4>Contact Information</h4>
                    <div class="detail-row">
                        <span class="detail-label">Phone:</span>
                        <span class="detail-value" id="driver-detail-phone"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Email:</span>
                        <span class="detail-value" id="driver-detail-email"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Vehicle:</span>
                        <span class="detail-value" id="driver-detail-vehicle"></span>
                    </div>
                </div>
                
                <div class="detail-section">
                    <h4>Recent Deliveries</h4>
                    <div id="driver-recent-deliveries">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="editDriver()">‚úèÔ∏è Edit</button>
                <button class="btn btn-outline" onclick="callDriver()">üìû Call</button>
                <button class="btn btn-danger" onclick="deactivateDriver()">Deactivate</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
    <script src="api.js"></script>
    <script src="auth.js"></script>
    <script src="main.js"></script>    <script src="loading.js"></script>    <script src="admin.js"></script>
</body>
</html>
