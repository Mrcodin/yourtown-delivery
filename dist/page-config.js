!function(){"use strict";function e(){const e={"[YOUR TOWN]":BUSINESS_CONFIG.townName,"[LOCAL STORE NAME]":BUSINESS_CONFIG.storeName,"555-123-4567":BUSINESS_CONFIG.phone,"Mon-Fri 8am-6pm, Sat 9am-3pm":BUSINESS_CONFIG.hours.full,"Mon-Fri 8am-6pm":BUSINESS_CONFIG.hours.weekday.display,"Monday - Friday: 8am - 6pm":BUSINESS_CONFIG.hours.weekday.detailed,"Sat 9am-3pm":BUSINESS_CONFIG.hours.saturday.display,"Saturday: 9am - 3pm":BUSINESS_CONFIG.hours.saturday.detailed,"[YOUR TOWN], State 12345":`${BUSINESS_CONFIG.townName}, ${BUSINESS_CONFIG.state} ${BUSINESS_CONFIG.zipCode}`,"Hometown Delivery":BUSINESS_CONFIG.shortName,"Hometown Grocery Delivery":BUSINESS_CONFIG.businessName};!function t(o){if(o.nodeType===Node.TEXT_NODE){let t=o.textContent,n=!1;for(const[o,a]of Object.entries(e))t.includes(o)&&(t=t.replace(new RegExp(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),a),n=!0);n&&(o.textContent=t)}else if(o.nodeType===Node.ELEMENT_NODE){if("A"===o.tagName&&"tel:555-123-4567"===o.getAttribute("href")&&o.setAttribute("href",`tel:${BUSINESS_CONFIG.phone}`),o.hasAttribute("placeholder")){let t=o.getAttribute("placeholder");for(const[o,n]of Object.entries(e))t=t.replace(o,n);o.setAttribute("placeholder",t)}for(let e of o.childNodes)t(e)}}(document.body);for(const[t,o]of Object.entries(e))document.title.includes(t)&&(document.title=document.title.replace(new RegExp(t,"g"),o))}function t(){const e=document.querySelector("title");if(e&&e.textContent.includes("Hometown")){const t=e.textContent.replace("Hometown Grocery Delivery",BUSINESS_CONFIG.businessName);e.textContent=t}}async function o(){await loadBusinessConfig(),e(),t(),document.querySelector(".stats-grid")&&async function(){const e=document.querySelector(".stats-grid");if(e)try{const t="undefined"!=typeof API_CONFIG&&API_CONFIG.BASE_URL?API_CONFIG.BASE_URL.replace("/api",""):"http://localhost:3000",o=await fetch(`${t}/api/stats/dashboard`);if(!o.ok)throw new Error("Failed to load stats");const n=await o.json();if(n&&n.success){const t=n.data,o=e.querySelectorAll(".stat-card");if(t.totalOrders&&o[0]&&(o[0].querySelector(".stat-number").textContent=t.totalOrders+"+"),t.activeDrivers&&o[1]&&(o[1].querySelector(".stat-number").textContent=t.activeDrivers),t.avgRating&&o[2]&&(o[2].querySelector(".stat-number").textContent=t.avgRating+"â˜…"),t.avgDeliveryTime&&o[3]){const e=Math.round(t.avgDeliveryTime/60);o[3].querySelector(".stat-number").textContent=e+" hrs"}}}catch(e){}}(),document.addEventListener("configLoaded",function(){e(),t()})}"undefined"!=typeof BUSINESS_CONFIG&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o())}();